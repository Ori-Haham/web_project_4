!function(){"use strict";var e={874:function(e,t,n){e.exports=n.p+"3220aa0123cd7dc3fc11.jpg"},937:function(e,t,n){e.exports=n.p+"c75819857ff1599f0c50.svg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.p="",function(){var e=n(937),t=n(874);const r={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"};class o{constructor(e,t,n){let{handleCardClick:r}=n;var o,s;s=()=>{this._element.remove(),this._element=null},(o="_hendelDelete")in this?Object.defineProperty(this,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[o]=s,this._name=e.name,this._link=e.link,this._cardSelector=t,this._handleCardClick=r}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._handleCardClickListener(),this._handleDeleteButton(),this._handleCardLikeButton()}_handleCardClickListener(){this._element.querySelector(".card__image").addEventListener("click",(e=>{this._handleCardClick(e)}))}_handleDeleteButton(){this._element.querySelector(".card__remove-button").addEventListener("click",this._hendelDelete)}_handleCardLikeButton(){this._element.querySelector(".card__like-button").addEventListener("click",(function(e){e.target.classList.toggle("card__like-button_active")}))}generateCard(){this._element=this._getTemplate(),this._setEventListeners();const e=this._element.querySelector(".card__image");return e.src=this._link,e.alt=this._name,this._element.querySelector(".card__location").textContent=this._name,this._element}}class s{constructor(e,t){var n,r;r=()=>{this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState(this._inputList,this._buttonElement)},(n="resetValidation")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._formSelector=e,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass}_showInputError(e,t){this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.add(this._inputErrorClass),this._errorElement.textContent=t,this._errorElement.classList.add(this._errorClass)}_hideInputError(e){this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass),this._errorElement.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(e){return e.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput(this._inputList)?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}_setEventListeners(){this._inputList=[...this._formElement.querySelectorAll(this._inputSelector)],this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState(this._inputList,this._buttonElement)}))}))}enableValidation(){this._formElement=document.querySelector(this._formSelector),this._setEventListeners()}}class i{constructor(e,t){let{data:n,renderer:r}=e;this._data=n,this._container=t,this._renderer=r}renderItems(){this._data.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{constructor(e){a(this,"_handleEscClose",(e=>{"Escape"===e.key&&this._popup.classList.add("popup-hidden")})),a(this,"_handleMouseDown",(e=>{const t=this._popup.querySelector(".popup__close-button");(e.target===t||e.target.classList.contains("popup"))&&this.close()})),this._popup=e}open(){this._popup.classList.remove("popup-hidden"),this.setEventListeners()}close(){this._popup.classList.add("popup-hidden"),this.removeEventListeners()}setEventListeners(){window.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("mousedown",this._handleMouseDown)}removeEventListeners(){window.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("mousedown",this._handleMouseDown)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends l{constructor(e,t,n){let{handleFormSubmit:r}=n;super(e),u(this,"close",(()=>{super.close(),this._form.reset(),this.removeEventListeners()})),u(this,"setEventListeners",(()=>{super.setEventListeners(),this._form.addEventListener("submit",this._handleSubmit)})),u(this,"removeEventListeners",(()=>{super.removeEventListeners(),this._form.removeEventListener("submit",this._handleSubmit)})),u(this,"_handleSubmit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())})),this._form=document.querySelector(t),this._handleFormSubmit=r}_getInputValues(){const e=[...this._popup.querySelectorAll(".popup__input")],t={};return e.forEach((e=>{t[e.name]=e.value})),t}}const d=document.querySelector(".profile__edit-button"),p=document.querySelector(".profile__add-button"),h=document.querySelector(".profile__name"),_=document.querySelector(".profile__about-me"),m=document.querySelector(".profile-popup"),b=(m.querySelector(".profile-popup__close-button"),document.querySelector(".card-popup")),v=(b.querySelector(".card-popup__close-button"),document.querySelector(".profile-form")),f=v.querySelector(".profile-form__name"),E=v.querySelector(".profile-form__about-me"),S=(v.querySelector(".profile-form__submit-button"),document.querySelector(".card-form"),document.querySelector(".cards")),y=document.querySelector(".image-popup"),g=(y.querySelector(".image-popup__close-button"),y.querySelector(".image-popup__image")),L=y.querySelector(".image-popup__location"),C={name:h,aboutMe:_},q=new class{constructor(e){let{data:t}=e;this._nameElement=t.name,this._aboutMeElement=t.aboutMe}getUserInfo(){const e={};return e.name=this._nameElement.textContent,e.aboutMe=this._aboutMeElement.textContent,e}setUserInfo(e,t){this._nameElement.textContent=e,this._aboutMeElement.textContent=t}}({data:C}),w=new class extends l{constructor(e,t,n){var r,o;super(e),o=e=>{let{src:t,alt:n}=e;super.open(),this._popupImage.src=t,this._popupImage.alt=n,this._popupLocation.textContent=n},(r="open")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this.open=o,this._popupImage=t,this._popupLocation=n}}(y,g,L),k=new s(".profile-form",r),I=new s(".card-form",r),x=new c(m,".profile-form",{handleFormSubmit:()=>{q.setUserInfo(f.value,E.value),x.close()}}),B=e=>{const t=new o(e,"#card-template",{handleCardClick:e=>{w.open({src:e.target.src,alt:e.target.alt})}}).generateCard();j.addItem(t)},j=new i({data:[{name:"Yosemite Valley",link:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{name:"Lake Louise",link:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{name:"Bald Mountains",link:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{name:"Latemar",link:"https://code.s3.yandex.net/web-code/latemar.jpg"},{name:"Vanoise National Park",link:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{name:"Lago di Braies",link:"https://code.s3.yandex.net/web-code/lago.jpg"}],renderer:B},S),M=new c(b,".card-form",{handleFormSubmit:e=>{new i({data:[e],renderer:B},S).renderItems(),M.close()}});d.addEventListener("click",(function(){!function(){const e=q.getUserInfo();f.value=e.name,E.value=e.aboutMe}(),k.resetValidation(),x.open()})),p.addEventListener("click",(function(){I.resetValidation(),M.open()})),j.renderItems(),k.enableValidation(),I.enableValidation(),document.getElementById("logo").src=e,document.getElementById("profileImg").src=t,fetch("https://around.nomoreparties.co/v1/group-12/users/me ",{headers:{authorization:"37c0271e-6c35-4cdb-bfdd-3d6b737f9411"}}).then((e=>e.json())).then((e=>console.log(e)))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0VGLEtBQU0saUJBQ05FLEtBQU0saURIcUNOdUQsU0FBVStELEdBRVpsQixHQUdJcUIsRUFBaUIsSUFBSTNDLEVBQWNrQixFQUFXLGFBQWMsQ0FDaEVoQixpQkFBbUJwQixJQUNBLElBQUlQLEVBQ25CLENBQ0U5RCxLQUFNLENBQUNxRSxHQUNQTCxTQUFVK0QsR0FFWmxCLEdBRU96QyxjQUNUOEQsRUFBZW5ELFdBcUJuQnFCLEVBQXVCL0UsaUJBQWlCLFNBWHhDLFlBTkEsV0FDRSxNQUFNOEcsRUFBV2hCLEVBQVNHLGNBQzFCWCxFQUFVUixNQUFRZ0MsRUFBUzVILEtBQzNCcUcsRUFBV1QsTUFBUWdDLEVBQVNqQixRQUk1QmtCLEdBQ0FSLEVBQXFCUyxrQkFDckJQLEVBQWtCOUMsVUFVcEJxQixFQUFvQmhGLGlCQUFpQixTQVByQyxXQUNFd0csRUFBa0JRLGtCQUNsQkgsRUFBZWxELFVBT2pCaUQsRUFBUzdELGNBRVR3RCxFQUFxQi9ELG1CQUVyQmdFLEVBQWtCaEUsbUJBRUFoRCxTQUFTeUgsZUFBZSxRQUNoQ3pHLElBQU0wRyxFQUVLMUgsU0FBU3lILGVBQWUsY0FFaEN6RyxJQUFNMkcsRUFHVkMsTUFBTSx3REFBeUQsQ0FDcEVDLFFBQVMsQ0FDUEMsY0FBZSwwQ0FFaEJDLE1BQU1DLEdBQVFBLEVBQUlDLFNBR1RGLE1BQU1DLEdBQVFFLFFBQVFDLElBQUlILEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL3V0aWxzL2Zvcm1WYWxpZGF0aW9uT2JqZWN0LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0gLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvdXRpbHMvaW5pdGlhbENhcmRzT2JqZWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImV4cG9ydCBjb25zdCBmb3JtVmFsaWRhdGlvbk9iamVjdCA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcclxufTtcclxuIiwiY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCB7IGhhbmRsZUNhcmRDbGljayB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfaGVuZGVsRGVsZXRlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gIH07XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGlja0xpc3RlbmVyKCk7XHJcblxyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKCk7XHJcblxyXG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2VCdXR0b24oKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDYXJkQ2xpY2tMaXN0ZW5lcigpIHtcclxuICAgIGNvbnN0IGNhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soZXZ0KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZURlbGV0ZUJ1dHRvbigpIHtcclxuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19yZW1vdmUtYnV0dG9uXCIpO1xyXG4gICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oZW5kZWxEZWxldGUpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUNhcmRMaWtlQnV0dG9uKCkge1xyXG4gICAgY29uc3QgY2FyZExpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XHJcbiAgICBjYXJkTGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcblxyXG4gICAgaW1hZ2VFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICBpbWFnZUVsZW1lbnQuYWx0ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbG9jYXRpb25cIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgQ2FyZCB9O1xyXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtU2VsZWN0b3IsIHZhbGlkYXRpb25PYmplY3QpIHtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSB2YWxpZGF0aW9uT2JqZWN0LmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHZhbGlkYXRpb25PYmplY3Quc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gdmFsaWRhdGlvbk9iamVjdC5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gdmFsaWRhdGlvbk9iamVjdC5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gdmFsaWRhdGlvbk9iamVjdC5lcnJvckNsYXNzO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xyXG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRMaXN0KSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbXHJcbiAgICAgIC4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvciksXHJcbiAgICBdO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUodGhpcy5faW5wdXRMaXN0LCB0aGlzLl9idXR0b25FbGVtZW50KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fZm9ybVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSh0aGlzLl9pbnB1dExpc3QsIHRoaXMuX2J1dHRvbkVsZW1lbnQpO1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCB7IEZvcm1WYWxpZGF0b3IgfTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBkYXRhLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvcjtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2RhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IHBvcHVwU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwLWhpZGRlblwiKTtcclxuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwLWhpZGRlblwiKTtcclxuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlTW91c2VEb3duKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlTW91c2VEb3duKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cC1oaWRkZW5cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX2hhbmRsZU1vdXNlRG93biA9IChldnQpID0+IHtcclxuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpO1xyXG4gICAgaWYgKGV2dC50YXJnZXQgPT09IGNsb3NlQnV0dG9uIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBmb3JtLCB7IGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihmb3JtKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gWy4uLnRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpXTtcclxuXHJcbiAgICBjb25zdCBmb3JtVmFsdWVzID0ge307XHJcblxyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGZvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZvcm1WYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBjbG9zZSA9ICgpID0+IHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdCk7XHJcbiAgfTtcclxuXHJcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICBzdXBlci5yZW1vdmVFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdCk7XHJcbiAgfTtcclxuXHJcbiAgX2hhbmRsZVN1Ym1pdCA9IChldnQpID0+IHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICB9O1xyXG59XHJcbiIsImNvbnN0IHByb2ZpbGVQb3B1cE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBjYXJkUG9wdXBPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5cclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWJvdXQtbWVcIik7XHJcblxyXG5jb25zdCBwcm9maWxlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGUtcG9wdXBcIik7XHJcbmNvbnN0IHByb2ZpbGVQb3B1cENsb3NlQnV0dG9uID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZS1wb3B1cF9fY2xvc2UtYnV0dG9uXCJcclxuKTtcclxuXHJcbmNvbnN0IGNhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZC1wb3B1cFwiKTtcclxuY29uc3QgY2FyZFBvcHVwQ2xvc2VCdXR0b24gPSBjYXJkUG9wdXAucXVlcnlTZWxlY3RvcihcclxuICBcIi5jYXJkLXBvcHVwX19jbG9zZS1idXR0b25cIlxyXG4pO1xyXG5cclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGUtZm9ybVwiKTtcclxuY29uc3QgbmFtZUlucHV0ID0gcHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlLWZvcm1fX25hbWVcIik7XHJcbmNvbnN0IGFib3V0SW5wdXQgPSBwcm9maWxlRm9ybS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGUtZm9ybV9fYWJvdXQtbWVcIik7XHJcbmNvbnN0IHN1Ym1pdFByb2ZpbGVCdXR0b24gPSBwcm9maWxlRm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnByb2ZpbGUtZm9ybV9fc3VibWl0LWJ1dHRvblwiXHJcbik7XHJcblxyXG5jb25zdCBjYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZC1mb3JtXCIpO1xyXG5cclxuY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzXCIpO1xyXG5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2UtcG9wdXBcIik7XHJcbmNvbnN0IGltYWdlUG9wdXBDbG9zZUJ1dHRvbiA9IGltYWdlUG9wdXAucXVlcnlTZWxlY3RvcihcclxuICBcIi5pbWFnZS1wb3B1cF9fY2xvc2UtYnV0dG9uXCJcclxuKTtcclxuY29uc3QgaW1hZ2VQb3B1cEltYWdlID0gaW1hZ2VQb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXBvcHVwX19pbWFnZVwiKTtcclxuY29uc3QgaW1hZ2VQb3B1cExvY2F0aW9uID0gaW1hZ2VQb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXBvcHVwX19sb2NhdGlvblwiKTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvT2JqZWN0ID0ge1xyXG4gIG5hbWU6IHByb2ZpbGVOYW1lLFxyXG4gIGFib3V0TWU6IHByb2ZpbGVBYm91dCxcclxufTtcclxuXHJcbmV4cG9ydCB7XHJcbiAgcHJvZmlsZVBvcHVwT3BlbkJ1dHRvbixcclxuICBjYXJkUG9wdXBPcGVuQnV0dG9uLFxyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIHByb2ZpbGVBYm91dCxcclxuICBwcm9maWxlUG9wdXAsXHJcbiAgcHJvZmlsZVBvcHVwQ2xvc2VCdXR0b24sXHJcbiAgY2FyZFBvcHVwLFxyXG4gIGNhcmRQb3B1cENsb3NlQnV0dG9uLFxyXG4gIHByb2ZpbGVGb3JtLFxyXG4gIG5hbWVJbnB1dCxcclxuICBhYm91dElucHV0LFxyXG4gIHN1Ym1pdFByb2ZpbGVCdXR0b24sXHJcbiAgY2FyZEZvcm0sXHJcbiAgY2FyZHNDb250YWluZXIsXHJcbiAgaW1hZ2VQb3B1cCxcclxuICBpbWFnZVBvcHVwQ2xvc2VCdXR0b24sXHJcbiAgaW1hZ2VQb3B1cEltYWdlLFxyXG4gIGltYWdlUG9wdXBMb2NhdGlvbixcclxuICB1c2VySW5mb09iamVjdCxcclxufTtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IGxvZ29TcmMgZnJvbSBcIi4uL2ltYWdlcy9sb2dvLnN2Z1wiO1xyXG5pbXBvcnQgcHJvZmlsZVNyYyBmcm9tIFwiLi4vaW1hZ2VzL2Zyb2ZpbGUtaW1hZ2UuanBnXCI7XHJcbmltcG9ydCB7IGZvcm1WYWxpZGF0aW9uT2JqZWN0IH0gZnJvbSBcIi4uL3NjcmlwdHMvdXRpbHMvZm9ybVZhbGlkYXRpb25PYmplY3QuanNcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCB7IGluaXRpYWxDYXJkcyB9IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzL2luaXRpYWxDYXJkc09iamVjdC5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtIFwiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mb1wiO1xyXG5pbXBvcnQge1xyXG4gIHByb2ZpbGVQb3B1cE9wZW5CdXR0b24sXHJcbiAgY2FyZFBvcHVwT3BlbkJ1dHRvbixcclxuICBwcm9maWxlUG9wdXAsXHJcbiAgY2FyZFBvcHVwLFxyXG4gIG5hbWVJbnB1dCxcclxuICBhYm91dElucHV0LFxyXG4gIGNhcmRzQ29udGFpbmVyLFxyXG4gIGltYWdlUG9wdXAsXHJcbiAgdXNlckluZm9PYmplY3QsXHJcbiAgaW1hZ2VQb3B1cEltYWdlLFxyXG4gIGltYWdlUG9wdXBMb2NhdGlvbixcclxufSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy9jb25zdGFudHNcIjtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHsgZGF0YTogdXNlckluZm9PYmplY3QgfSk7XHJcblxyXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFxyXG4gIGltYWdlUG9wdXAsXHJcbiAgaW1hZ2VQb3B1cEltYWdlLFxyXG4gIGltYWdlUG9wdXBMb2NhdGlvblxyXG4pO1xyXG5cclxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICBcIi5wcm9maWxlLWZvcm1cIixcclxuICBmb3JtVmFsaWRhdGlvbk9iamVjdFxyXG4pO1xyXG5cclxuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcIi5jYXJkLWZvcm1cIiwgZm9ybVZhbGlkYXRpb25PYmplY3QpO1xyXG5cclxuY29uc3QgcHJvZmlsZVBvcHVwQ2xhc3MgPSBuZXcgUG9wdXBXaXRoRm9ybShwcm9maWxlUG9wdXAsIFwiLnByb2ZpbGUtZm9ybVwiLCB7XHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKCkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8obmFtZUlucHV0LnZhbHVlLCBhYm91dElucHV0LnZhbHVlKTtcclxuICAgIHByb2ZpbGVQb3B1cENsYXNzLmNsb3NlKCk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCByZW5kZXJDYXJkID0gKGl0ZW0pID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgXCIjY2FyZC10ZW1wbGF0ZVwiLCB7XHJcbiAgICBoYW5kbGVDYXJkQ2xpY2s6IChldnQpID0+IHtcclxuICAgICAgcG9wdXBJbWFnZS5vcGVuKHsgc3JjOiBldnQudGFyZ2V0LnNyYywgYWx0OiBldnQudGFyZ2V0LmFsdCB9KTtcclxuICAgIH0sXHJcbiAgfSk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG59O1xyXG5cclxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICBkYXRhOiBpbml0aWFsQ2FyZHMsXHJcbiAgICByZW5kZXJlcjogcmVuZGVyQ2FyZCxcclxuICB9LFxyXG4gIGNhcmRzQ29udGFpbmVyXHJcbik7XHJcblxyXG5jb25zdCBjYXJkUG9wdXBDbGFzcyA9IG5ldyBQb3B1cFdpdGhGb3JtKGNhcmRQb3B1cCwgXCIuY2FyZC1mb3JtXCIsIHtcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoaXRlbSkgPT4ge1xyXG4gICAgY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcclxuICAgICAge1xyXG4gICAgICAgIGRhdGE6IFtpdGVtXSxcclxuICAgICAgICByZW5kZXJlcjogcmVuZGVyQ2FyZCxcclxuICAgICAgfSxcclxuICAgICAgY2FyZHNDb250YWluZXJcclxuICAgICk7XHJcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xyXG4gICAgY2FyZFBvcHVwQ2xhc3MuY2xvc2UoKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGZpbGxQcm9maWxlRm9ybSgpIHtcclxuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgbmFtZUlucHV0LnZhbHVlID0gdXNlckRhdGEubmFtZTtcclxuICBhYm91dElucHV0LnZhbHVlID0gdXNlckRhdGEuYWJvdXRNZTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3BlblByb2ZpbGVGb3JtKCkge1xyXG4gIGZpbGxQcm9maWxlRm9ybSgpO1xyXG4gIHByb2ZpbGVGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIHByb2ZpbGVQb3B1cENsYXNzLm9wZW4oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3BlbkNhcmRQb3B1cCgpIHtcclxuICBjYXJkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICBjYXJkUG9wdXBDbGFzcy5vcGVuKCk7XHJcbn1cclxuXHJcbnByb2ZpbGVQb3B1cE9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5Qcm9maWxlRm9ybSk7XHJcblxyXG5jYXJkUG9wdXBPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuQ2FyZFBvcHVwKTtcclxuXHJcbmNhcmRMaXN0LnJlbmRlckl0ZW1zKCk7XHJcblxyXG5wcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBsb2dvSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvZ29cIik7XHJcbmxvZ29JbWFnZS5zcmMgPSBsb2dvU3JjO1xyXG5cclxuY29uc3QgcHJvZmlsZUltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9maWxlSW1nXCIpO1xyXG5cclxucHJvZmlsZUltYWdlLnNyYyA9IHByb2ZpbGVTcmM7XHJcblxyXG5mdW5jdGlvbiBnZXRVc2VySW5mbygpIHtcclxuICByZXR1cm4gZmV0Y2goXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyL3VzZXJzL21lIFwiLCB7XHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgIGF1dGhvcml6YXRpb246IFwiMzdjMDI3MWUtNmMzNS00Y2RiLWJmZGQtM2Q2YjczN2Y5NDExXCIsXHJcbiAgICB9LFxyXG4gIH0pLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSk7XHJcbn1cclxuXHJcbmdldFVzZXJJbmZvKCkudGhlbigocmVzKSA9PiBjb25zb2xlLmxvZyhyZXMpKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgZGF0YSB9KSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2Fib3V0TWVFbGVtZW50ID0gZGF0YS5hYm91dE1lO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCB1c2VySW5mbyA9IHt9O1xyXG5cclxuICAgIHVzZXJJbmZvLm5hbWUgPSB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudDtcclxuICAgIHVzZXJJbmZvLmFib3V0TWUgPSB0aGlzLl9hYm91dE1lRWxlbWVudC50ZXh0Q29udGVudDtcclxuXHJcbiAgICByZXR1cm4gdXNlckluZm87XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhuYW1lLCBhYm91dE1lKSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9hYm91dE1lRWxlbWVudC50ZXh0Q29udGVudCA9IGFib3V0TWU7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHBvcHVwSW1hZ2UsIHBvcHVwTG9jYXRpb24pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHBvcHVwSW1hZ2U7XHJcbiAgICB0aGlzLl9wb3B1cExvY2F0aW9uID0gcG9wdXBMb2NhdGlvbjtcclxuICB9XHJcbiAgb3BlbiA9ICh7IHNyYywgYWx0IH0pID0+IHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gc3JjO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBhbHQ7XHJcbiAgICB0aGlzLl9wb3B1cExvY2F0aW9uLnRleHRDb250ZW50ID0gYWx0O1xyXG4gIH07XHJcbn1cclxuIiwiY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3lvc2VtaXRlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWtlLWxvdWlzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGF0ZW1hci5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3Zhbm9pc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhZ28uanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCB7IGluaXRpYWxDYXJkcyB9O1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJwIiwiZm9ybVZhbGlkYXRpb25PYmplY3QiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJ0aGlzIiwiX2VsZW1lbnQiLCJyZW1vdmUiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfaGFuZGxlQ2FyZENsaWNrTGlzdGVuZXIiLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiX2hhbmRsZUNhcmRMaWtlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsIl9oZW5kZWxEZWxldGUiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJnZW5lcmF0ZUNhcmQiLCJpbWFnZUVsZW1lbnQiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIkZvcm1WYWxpZGF0b3IiLCJ2YWxpZGF0aW9uT2JqZWN0IiwiX2lucHV0TGlzdCIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJfaGlkZUlucHV0RXJyb3IiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfYnV0dG9uRWxlbWVudCIsIl9mb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiX3Nob3dJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlIiwiX2Vycm9yRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsImlkIiwiYWRkIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJpbnB1dExpc3QiLCJzb21lIiwiZGlzYWJsZWQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZW5hYmxlVmFsaWRhdGlvbiIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX2RhdGEiLCJfY29udGFpbmVyIiwiX3JlbmRlcmVyIiwicmVuZGVySXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwia2V5IiwiX3BvcHVwIiwiY2xvc2VCdXR0b24iLCJjb250YWlucyIsImNsb3NlIiwib3BlbiIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJ3aW5kb3ciLCJfaGFuZGxlRXNjQ2xvc2UiLCJfaGFuZGxlTW91c2VEb3duIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEZvcm0iLCJmb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX2Zvcm0iLCJyZXNldCIsIl9oYW5kbGVTdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJwcm9maWxlUG9wdXBPcGVuQnV0dG9uIiwiY2FyZFBvcHVwT3BlbkJ1dHRvbiIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUFib3V0IiwicHJvZmlsZVBvcHVwIiwiY2FyZFBvcHVwIiwicHJvZmlsZUZvcm0iLCJuYW1lSW5wdXQiLCJhYm91dElucHV0IiwiY2FyZHNDb250YWluZXIiLCJpbWFnZVBvcHVwIiwiaW1hZ2VQb3B1cEltYWdlIiwiaW1hZ2VQb3B1cExvY2F0aW9uIiwidXNlckluZm9PYmplY3QiLCJhYm91dE1lIiwidXNlckluZm8iLCJfbmFtZUVsZW1lbnQiLCJfYWJvdXRNZUVsZW1lbnQiLCJnZXRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwicG9wdXBJbWFnZSIsInBvcHVwTG9jYXRpb24iLCJfcG9wdXBJbWFnZSIsIl9wb3B1cExvY2F0aW9uIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJjYXJkRm9ybVZhbGlkYXRvciIsInByb2ZpbGVQb3B1cENsYXNzIiwicmVuZGVyQ2FyZCIsImNhcmRFbGVtZW50IiwiY2FyZExpc3QiLCJjYXJkUG9wdXBDbGFzcyIsInVzZXJEYXRhIiwiZmlsbFByb2ZpbGVGb3JtIiwicmVzZXRWYWxpZGF0aW9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJsb2dvU3JjIiwicHJvZmlsZVNyYyIsImZldGNoIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0aGVuIiwicmVzIiwianNvbiIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9